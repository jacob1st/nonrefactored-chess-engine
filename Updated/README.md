A slightly newer version of what's already uploaded. 

The depth functionality test doesn't account for en passants and will give incorrect results in certain scenarios.
